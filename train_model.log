WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8002
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
DEBUG:root:Traceback (most recent call last):
  File "/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py", line 37, in train_model
    X_train = preprocessing.preprocess(X_train)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py", line 24, in preprocess
    new_data['time_delta_sec'] = new_data.apply(times_to_delta_sec, axis=1)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/venv/lib/python3.11/site-packages/pandas/core/frame.py", line 9568, in apply
    return op.apply().__finalize__(self, method="apply")
           ^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/venv/lib/python3.11/site-packages/pandas/core/apply.py", line 764, in apply
    return self.apply_standard()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/venv/lib/python3.11/site-packages/pandas/core/apply.py", line 891, in apply_standard
    results, res_index = self.apply_series_generator()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/venv/lib/python3.11/site-packages/pandas/core/apply.py", line 907, in apply_series_generator
    results[i] = self.f(v)
                 ^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py", line 10, in times_to_delta_sec
    purchase_sec = pd.to_datetime(row.purchase_time, format='%Y-%m-%d %H:%M:%S')
                                  ^^^^^^^^^^^^^^^^^
  File "/home/shinawi-/Bureau/5SDBD/Projet/venv/lib/python3.11/site-packages/pandas/core/generic.py", line 5902, in __getattr__
    return object.__getattribute__(self, name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Series' object has no attribute 'purchase_time'

INFO:werkzeug:127.0.0.1 - - [16/Jan/2024 08:17:30] "GET /train_model HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug:127.0.0.1 - - [16/Jan/2024 08:29:51] "GET /train_model HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/preprocessing.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/train_model.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:root:Start of model training
INFO:root:Preprocessing...
INFO:root:Rebalancing...
INFO:root:Fitting...
INFO:root:Computing prediction scores...
INFO:root:End of model training
INFO:werkzeug:127.0.0.1 - - [16/Jan/2024 10:26:54] "GET /train_model HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/process_data.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
INFO:werkzeug: * Detected change in '/home/shinawi-/Bureau/5SDBD/Projet/prediction-service/predict.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 985-958-854
